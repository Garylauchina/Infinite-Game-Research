# EXPERIMENT_V5_2_MINIMAL.md

## V5.0 vs V5.2 最小对照实验设计

**目的**  
本实验用于验证：  
> V5.2 引入的行为采样密度 K，是否仅改变探索速度，而不改变系统的结构空间本身。

该实验不是为了证明 V5.2 "更好"，而是为了**证伪或确认**以下关键假设。

---

## 一、核心假设

### H0（零假设，必须允许失败）
在相同世界规则下，系统的**可达结构空间**仅由规则决定，与行为采样密度 K 无关。

### H1（设计目标）
K 只影响：
- 结构被探索到的**速度**
- 个体的**体验路径**

但**不改变**最终可达的结构集合。

---

## 二、实验冻结条件（必须严格执行）

以下条件在所有实验组中 **完全一致**：

- 世界规则（全部）
- chaos 基础参数
- 价格区间
- 手续费规则
- 聚类参数（KMeans、窗口、阈值等）
- adjust_interval
- collapse_proxy 机制（启用，逻辑一致）
- 随机种子（seed）

⚠️ **不允许为 V5.2 单独调参做"补偿"**

---

## 三、实验矩阵（最小）

### 1. 版本 × 行为采样密度

| 实验组 | 版本 | K |
|------|------|---|
| A | V5.0 | 1 |
| B | V5.2 | 1 |
| C | V5.2 | 3 |

说明：
- A vs B：验证 V5.2 在 K=1 时与 V5.0 的**路径等价性**
- B vs C：验证 K 的影响是否仅限于探索速度

---

### 2. 时间采样方式（结构里程碑）

每个实验组仅在以下三个时刻记录数据：

| 时间点 | 定义 |
|------|------|
| T₁ | 玩家数 N 首次达到 10 |
| T₂ | 玩家数 N 首次达到 50 |
| T₃ | 固定 tick（300,000） |

⚠️ 不按等时间采样，只按**结构发展里程碑**

---

## 四、观测量（严格限制）

### 结构级（世界本身）

1. `complexity`
2. `H_norm`（转移熵，归一化）
3. `active_protocols_ratio`
4. `collapse_proxy`

### 动力学级（聚合行为）

5. `N`（玩家数量）

❌ 不记录：
- 价格
- 成交数
- 滑点
- experience（容易引入主观解释）

---

## 五、核心分析方式（看"形状"，不是数值）

### 1. 结构轨迹对比（最关键）

绘制每个实验组在 `(H_norm, active_protocols_ratio)` 平面上的轨迹。

判断标准：
- A / B / C 是否落在**同一可达区域**
- C 是否只是**更快到达**，而非进入新区域

结论判定：
- 若 C 出现 A/B 永远不可达区域 → ❌ 失败（结构空间被改变）

---

### 2. collapse_proxy 分布对比

对 T₁ / T₂ / T₃ 三个阶段分别统计：
- collapse_proxy 的分布（直方图）

健康表现：
- 分布形态相似
- V5.2 可能更早进入低塌缩区
- 不应出现新的极端分布形态

---

### 3. N(t) 增长形态

分析 N 随时间的增长曲线形状，而非最终数值。

关注点：
- 是否仍为单调或 S 型增长
- 是否出现异常振荡或回撤（危险信号）

---

## 六、结果解释模板（执行前锁定）

### ✅ 理想结果
- V5.2(K>1) 更快探索
- 结构统计分布与 V5.0 一致

结论：  
**K = 行为采样密度，不是结构自由度**

---

### ⚠️ 可修正结果
- V5.2 对某类结构存在偏好
- 但未突破 V5.0 的结构边界

可能原因：
- collapse_proxy 反馈过强
- 探针相关性未完全解耦

---

### ❌ 否定结果（必须停止）
- V5.2 到达 V5.0 永远无法到达的结构区域

结论：
- K 实际引入了新的自由度
- 系统偏离"零策略基底"

必须回滚或重构设计。

---

## 七、实验精神说明

这是一个**允许失败的实验设计**。  
其目标不是产出漂亮图表，而是验证一个根本问题：

> 如何确认"探索增强"没有偷偷改变系统本身？

---

## 八、执行输出要求（最小）

每个实验组输出：
- 三个时间点（T₁ / T₂ / T₃）
- 五个观测量
- 一张 `(H_norm, active_protocols_ratio)` 轨迹图
- collapse_proxy 分布图

---

## 九、执行方式

```bash
cd /path/to/Infinite-Game-Research
python experiments/v52_minimal_comparison.py
```

输出目录：`data/v52_comparison_output/`

---

**文档版本**：v1.0  
**适用版本**：V5.0 / V5.2  
**状态**：可直接执行
